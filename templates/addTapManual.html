{%extends 'generalPageStyling.html'%}

{%block mainBlock%}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
crossorigin=""></script>

<div class="container">
<h1>New Tap</h1>
<ol class="breadcrumb">
    <li class="breadcrumb-item">
        <a href="/home">Home</a>
    </li>
    <li class="breadcrumb-item">
            <a href="/home/taps">Taps</a>
        </li>
    <li class="breadcrumb-item active">New</li>
</ol>

<div class="row">
  <div>
  <h2 class="text-center">How the taps are being added?</h2>
  <!-- {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class=flashes>
      {% for message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
      </div>
    {% endif %}
  {% endwith %} -->
  {{msg}}
  <p>Therefore, if you still wish to continue, you can do so manualy.
    <br> On this page you can add a tap to our storage which will allow you to later
    on use our map services to find a route leading to this tap or to any other
    people were kind enough to save. <br> If you want you can add a picture with
    the coordinates and address of the tap. This will make it easier for other
    people to find the tap. <br></p>
  </div>

</div>

<form id="form" action="/home/taps/new" method="post" enctype="multipart/form-data">
  Latitude: <input id="latitude" type="number" name="latitude" step="any">
  Longitude: <input id="longitude" type="number" name="longitude" step="any"> <br>
  <br>
  <div id="mapid" class="DraggableMarker" style="width: 75%; height: 400px; border-radius:2%"></div>
  <br>
  <input type="file" name="picture"/> <br>
  <input type="submit" name="" value="Submit Picture">
</form>

<p id="ERROR"></p>
<script type="text/javascript" src="/static/js/newTapLocation.js"></script>
<script type="text/javascript" src="/static/js/LeafletMapData.js"></script>
<script type="text/javascript" src="/static/js/Location.js"></script>

</div>
<style>
  #mapid{
    width:50%;
    height:50%
  }
</style>
{%endblock%}
